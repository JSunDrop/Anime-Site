/* ==========================================================================
   DOJINOVA THEME — GLOBAL STYLES (shared header, dropdown fix, 2x featured)
   ========================================================================== */

/* ---------- Theme tokens ---------- */
:root{
  --bg: #0c1117;
  --panel: rgba(11,20,29,0.42);
  --panel-strong: rgba(11,20,29,0.52);
  --frost: saturate(130%) blur(14px);
  --ring: rgba(103,150,255,.5);

  --text: #d6e2ff;
  --muted: #a7b2c7;

  --brand: #66a8ff;
  --brand-700: #4a8ee8;
  --brand-800: #2e69bd;

  --pill-bg: rgba(60,90,140,.35);
  --pill-bg-hover: rgba(102,168,255,.35);
  --pill-bg-active: #66a8ff;

  --shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
  --radius: 16px;
}

/* ---------- Reset / Base ---------- */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
  color:var(--text);
  background:var(--bg);
  overflow-x:hidden;
}

/* ---------- Background image ---------- */
.bg{
  position:fixed; inset:0;
  background:url('../assets/bg-cherry.png') center/cover no-repeat fixed;
  filter:contrast(1.02) brightness(1.15);
  z-index:-2;
}

/* ---------- Layout helpers ---------- */
.wrap{ max-width:1200px; margin:0 auto; padding:0 16px; }
.gap{ display:grid; gap:28px; margin-top:28px; }

/* ==========================================================================
   HEADER / NAVIGATION (single source across pages)
   ========================================================================== */

/* Header: fully transparent (no stained-glass), still sticky */
.site-header{
  position: sticky;
  top: 0;
  z-index: 50;
  background: transparent;      /* <-- no overlay */
  backdrop-filter: none;        /* <-- remove blur */
}

/* Tight header side padding so logo hugs the edge */
.site-header .wrap{ padding: 0 4px; }

/* Brand/logo */
.brand{ display:flex; align-items:center; gap:0; }
.brand img{
  height: 56px;                 /* a tad bigger */
  width: auto;
  object-fit: contain;
  margin-left: 0;               /* hug the left edge */
  filter: drop-shadow(0 6px 20px rgba(0,0,0,.55));
}
/* Ensure any brand word is hidden even if present */
.brand-word{ display:none !important; }


/* nav groups */
.main-nav{ display:flex; gap:10px; }
.left-nav{ display:flex; gap:12px; margin-left:8px; }   /* core tabs left of header */
.right-nav{ display:flex; gap:12px; margin-left:auto; } /* Saved / Log In pinned right */

/* pills */
.pill{
  display:inline-flex; align-items:center; justify-content:center;
  height:38px; padding:0 14px; border-radius:22px;
  color:#dce9ff; text-decoration:none;
  background:var(--pill-bg);
  border:1px solid rgba(126,162,220,.25);
  box-shadow:var(--shadow);
  transition:.18s ease;
}
.pill:hover{ background:var(--pill-bg-hover); border-color:rgba(126,162,220,.45); }
.pill.active{ background:var(--pill-bg-active); color:#05223d; border-color:transparent; }
.pill.sm{ height:30px; padding:0 10px; border-radius:18px; }

/* studio dropdown (clickable + no collapse) */
.nav-item{ position:relative; }
.nav-item::after{ content:""; position:absolute; left:0; right:0; top:100%; height:10px; } /* hover bridge */
.nav-item > .pill{ height:38px; position:relative; z-index:2; }
.dropdown{
  position:absolute; top:calc(100% + 2px); left:0; min-width:220px;
  background:var(--panel-strong);
  border:1px solid rgba(126,162,220,.24);
  border-radius:14px; padding:10px;
  box-shadow:var(--shadow);
  z-index:1000;
  opacity:0; pointer-events:none; transform:translateY(-4px);
  transition:.18s ease;
}
.nav-item:hover .dropdown,
.nav-item:focus-within .dropdown{
  opacity:1; pointer-events:auto; transform:translateY(0);
}
.dropdown a{ display:block; text-decoration:none; color:var(--text); padding:10px; border-radius:10px; }
.dropdown a:hover{ background:rgba(126,162,220,.14); }

/* ==========================================================================
   BUTTONS
   ========================================================================== */
.btn{
  display:inline-flex; align-items:center; gap:8px;
  height:40px; padding:0 16px; border-radius:22px;
  background:var(--pill-bg); color:#dce9ff; text-decoration:none;
  border:1px solid rgba(126,162,220,.25);
  transition:.18s ease; box-shadow:var(--shadow);
}
.btn:hover{ background:var(--pill-bg-hover); border-color:rgba(126,162,220,.45); }
.btn.primary{ background:linear-gradient(180deg, var(--brand), var(--brand-700)); color:#071a2f; border-color:rgba(0,0,0,.2) }
.btn.primary:hover{ background:linear-gradient(180deg, #78b6ff, var(--brand)); }

/* ==========================================================================
   PANELS / CONTENT
   ========================================================================== */
.panel{
  background:var(--panel);
  backdrop-filter:var(--frost);
  border:1px solid rgba(126,162,220,.18);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:22px;
}
.panel.subtle{ background:var(--panel); }

/* hero */
.hero{ display:grid; grid-template-columns:1.2fr 1fr; gap:24px; align-items:stretch; }
.hero h1{ font-size:40px; line-height:1.15; margin:.2em 0 .4em; }
.kicker{ color:var(--muted); }
.actions{ display:flex; gap:12px; margin-top:8px; }

/* featured: show TWO cards side-by-side (desktop) */
.featured .feat-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
/* Featured: stacked items (one above the other) */
.featured .feat-head{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;
}

/* One column so entries stack; keep generous gap */
.featured .feat-stage{
  display:grid;
  grid-template-columns: 1fr;
  gap: 16px;
  align-items: stretch;
}

/* Fit: grid card with image column and flexible meta column */
.featured .feat-card{
  display: grid;
  grid-template-columns: 160px 1fr;   /* image | text */
  gap: 16px;
  align-items: center;
  background: var(--panel-strong);
  padding: 16px;
  border-radius: 14px;
  border: 1px solid rgba(126,162,220,.16);
}

.featured .feat-card img{
  width: 160px;
  height: 200px;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: var(--shadow);
}

.meta .t{ font-weight: 700; }
.meta .by{ font-size: 14px; color: var(--muted); }
.tags{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }

.tag{
  font-size:13px; padding:6px 10px; border-radius:999px;
  background:rgba(126,162,220,.18);
  border:1px solid rgba(126,162,220,.28);
  color:#cfe2ff;
}

/* scroller rows */
.row-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.hscroll{ display:flex; gap:16px; overflow-x:auto; scroll-snap-type:x mandatory; padding-bottom:6px; }
.card{
  min-width:260px; max-width:260px; scroll-snap-align:start;
  background:var(--panel-strong);
  border:1px solid rgba(126,162,220,.16);
  border-radius:14px; box-shadow:var(--shadow); padding:12px;
}
.card img{ width:100%; height:180px; object-fit:cover; border-radius:10px; margin-bottom:8px; }
.card h4{ margin:0 0 2px 0; }
.byline{ font-size:14px; color:var(--muted); }

/* saved-list helpers */
.card .actions-row{ display:flex; gap:8px; margin-top:8px; align-items:center; }
.save-btn{ cursor:pointer; }
.remove-btn{ cursor:pointer; }
.grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(240px,1fr)); gap:16px; }

/* tag cloud */
.tag-cloud{ display:flex; gap:10px; flex-wrap:wrap; }

/* footer */
.footer{ padding:28px 0; color:var(--muted); text-align:center; }

/* responsive */
@media (max-width:980px){
  .brand img{ height:38px; }
  .hero{ grid-template-columns:1fr; }
  .featured img{ width:110px; height:150px; }
  .featured .feat-stage{ grid-template-columns:1fr; } /* stack on mobile */
}
/* ===================== CRUNCHY TOP BAR ===================== */

/* Transparent sticky header (no stained glass) */
.site-header{ position: sticky; top: 0; z-index: 50; background: transparent; backdrop-filter: none; }
.site-header .wrap{ padding: 0 4px; }

/* Bar layout: logo | nav | right controls */
.header-bar{ display:flex; align-items:center; gap:18px; height:64px; position:relative; }

/* Logo only (bigger, hard-left) */
.brand img{ height: 56px; width:auto; object-fit:contain; margin-left:0; filter: drop-shadow(0 6px 20px rgba(0,0,0,.55)); }
.brand-word{ display:none !important; } /* hide wordmark if any */

/* Left nav — flat text links (Crunchyroll-like) */
.nav-left{ display:flex; align-items:center; gap:18px; }
.nav-link{
  display:inline-flex; align-items:center; gap:6px;
  color:#dce9ff; text-decoration:none; opacity:.92; padding:8px 2px;
  border-bottom:2px solid transparent; transition:opacity .15s ease, border-color .15s ease;
}
.nav-link:hover{ opacity:1; border-bottom-color: rgba(255,255,255,.25); }
.nav-link.active{ border-bottom-color: var(--pill-bg-active); color:#fff; }

/* Small vertical divider between search and links */
.nav-divider{ width:1px; height:22px; background: rgba(220,233,255,.18); margin: 0 6px; }

/* Right controls */
.nav-right{ display:flex; align-items:center; gap:14px; margin-left:auto; }

/* Icon button (search) */
.icon-btn{
  width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center;
  border-radius:50%; background: rgba(60,90,140,.28); color:#dce9ff;
  border:1px solid rgba(126,162,220,.25); box-shadow: var(--shadow); cursor:pointer;
}
.icon-btn:hover{ background: rgba(102,168,255,.32); }

/* Studio dropdown working on hover like CR */
.nav-item{ position:relative; }
.nav-item::after{ content:""; position:absolute; left:0; right:0; top:100%; height:10px; } /* hover bridge */
.dropdown{
  position:absolute; top:calc(100% + 2px); left:0; min-width:220px;
  background:var(--panel-strong); border:1px solid rgba(126,162,220,.24);
  border-radius:14px; padding:10px; box-shadow:var(--shadow);
  z-index:1000; opacity:0; pointer-events:none; transform:translateY(-4px);
  transition:.18s ease;
}
.nav-item:hover .dropdown, .nav-item:focus-within .dropdown{ opacity:1; pointer-events:auto; transform:translateY(0); }
.dropdown a{ display:block; color:var(--text); text-decoration:none; padding:10px; border-radius:10px; }
.dropdown a:hover{ background: rgba(126,162,220,.14); }

/* ===================== FEATURED (STACKED, CLEAN FIT) ===================== */
.featured .feat-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.featured .feat-stage{ display:grid; grid-template-columns: 1fr; gap: 16px; }
.featured .feat-card{
  display:grid; grid-template-columns: 160px 1fr; gap:16px; align-items:center;
  background:var(--panel-strong); padding:16px; border-radius:14px; border:1px solid rgba(126,162,220,.16);
}
.featured .feat-card img{ width:160px; height:200px; object-fit:cover; border-radius:12px; box-shadow: var(--shadow); }
.meta .t{ font-weight:700; }
.meta .by{ font-size:14px; color: var(--muted); }
.tags{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }

/* (Keep your existing .btn, .panel, .hscroll, .card, etc. rules) */

/* Mobile: stack cleanly */
@media (max-width: 980px){
  .brand img{ height:44px; }
  .header-bar{ height:56px; }
  .nav-left{ gap:12px; }
}
/* === HEADER OVERRIDES: logo flush-left & bigger === */
.site-header .wrap{
  /* make the header bar span the full window so the logo can hit the edge */
  max-width: none;
  width: 100%;
  padding-left: 0;      /* remove left gutter */
  padding-right: 8px;   /* small right gutter so links don't kiss the edge */
}

.brand img{
  height: 60px;         /* bump size a bit */
  margin-left: 0;       /* ensure no stray left margin */
}
/* === PANEL TRANSPARENCY: +35% see-through === */
:root{
  /* old was ~0.42 and ~0.52; 0.42*0.65 ≈ 0.27, 0.52*0.65 ≈ 0.34 */
  --panel: rgba(11, 20, 29, 0.27);
  --panel-strong: rgba(11, 20, 29, 0.34);
}
