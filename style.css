/* ─────────────────────────────────────────────────────────────
   DOJINOVA • FULL THEME CSS
   - Left sidebar (logo + vertical tabs)
   - Top utilities bar (Search / Saved / Log In)
   - Nearly transparent “stained-glass” panels
   - Featured: stacked layout (2 items rendered by JS)
   ───────────────────────────────────────────────────────────── */

/* ============================================================
   0) THEME TOKENS
   ============================================================ */
:root{
  --bg: #0c1117;
  --text: #d6e2ff;
  --muted: #a7b2c7;

  --brand: #66a8ff;
  --brand-700: #4a8ee8;

  /* Ultra-clear glass */
  --panel:        rgba(11, 20, 29, 0.08);
  --panel-strong: rgba(11, 20, 29, 0.12);

  --shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
  --radius: 16px;

  /* Pills used on buttons/cards (not top nav) */
  --pill-bg: rgba(60,90,140,.35);
  --pill-bg-hover: rgba(102,168,255,.35);
  --pill-bg-active: #66a8ff;
}

/* ============================================================
   1) RESET / BASE
   ============================================================ */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
  color:var(--text);
  background:var(--bg);
  overflow-x:hidden;
}

/* Full-screen background art */
.bg{
  position:fixed; inset:0;
  background:url('../assets/bg-cherry.png') center/cover no-repeat fixed;
  filter:contrast(1.02) brightness(1.15);
  z-index:-2;
}

/* Layout helpers */
.wrap{ max-width:1200px; margin:0 auto; padding:0 16px; }
.gap{ display:grid; gap:28px; margin-top:28px; }

/* ============================================================
   2) TOP BAR (utilities only — right side)
   ============================================================ */
.site-header{ position:sticky; top:0; z-index:50; background:transparent; }
.site-header .wrap{ max-width:none; width:100%; padding:0 8px; }

.header-bar{
  display:flex; align-items:center; justify-content:flex-end;
  gap:14px; min-height:64px;
}

.nav-right{ display:flex; align-items:center; gap:14px; }
.nav-link{
  color:#dce9ff; text-decoration:none; opacity:.92; padding:8px 2px;
  border-bottom:2px solid transparent; transition:.15s ease;
}
.nav-link:hover{ opacity:1; border-bottom-color:rgba(255,255,255,.25); }
.nav-link.active{ border-bottom-color:var(--pill-bg-active); color:#fff; }

.icon-btn{
  width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center;
  border-radius:50%; background:rgba(60,90,140,.28); color:#dce9ff;
  border:1px solid rgba(126,162,220,.25); box-shadow:var(--shadow); cursor:pointer;
}
.icon-btn:hover{ background:rgba(102,168,255,.32); }
.nav-divider{ width:1px; height:22px; background:rgba(220,233,255,.18); }

/* Search popover */
.search-popover{
  position:absolute; right:8px; top:100%; margin-top:8px; padding:10px;
  background:var(--panel-strong); border:1px solid rgba(126,162,220,.24);
  border-radius:12px; box-shadow:var(--shadow); display:none;
}
.search-popover.open{ display:block; }
.search-popover input{
  width:240px; height:36px; border-radius:10px; outline:none;
  border:1px solid rgba(126,162,220,.25);
  background:rgba(126,162,220,.10); color:#dce9ff; padding:0 10px;
}

/* ============================================================
   3) LEFT SIDEBAR (logo + vertical tabs)
   ============================================================ */
.sidebar{
  position:fixed; left:0; top:0; bottom:0; width:240px;
  padding:12px 12px 16px;
  background:var(--panel-strong);
  border-right:1px solid rgba(126,162,220,.16);
  box-shadow:var(--shadow);
  z-index:60;
}

/* Logo at the top */
.side-brand{ display:flex; align-items:center; justify-content:center; margin:6px 0 10px; text-decoration:none; }
.side-brand img{ height:120px; width:auto; object-fit:contain; filter:drop-shadow(0 6px 20px rgba(0,0,0,.55)); }

/* Vertical nav */
.side-nav{ display:flex; flex-direction:column; gap:6px; margin-top:8px; }
.side-link{
  display:flex; align-items:center; gap:8px;
  height:38px; padding:0 12px; border-radius:10px;
  color:#dce9ff; text-decoration:none; background:transparent;
  border:1px solid transparent; transition:.15s ease;
}
.side-link:hover{ background:rgba(126,162,220,.10); border-color:rgba(126,162,220,.18); }
.side-link.active{ background:rgba(102,168,255,.18); border-color:rgba(102,168,255,.35); }

/* Studio expandable group */
.side-group{ display:flex; flex-direction:column; gap:6px; }
.side-toggle{ cursor:pointer; width:100%; text-align:left; background:none; border:none; color:#dce9ff; }
.side-sub{ display:none; padding-left:10px; }
.side-sub.open{ display:block; }
.side-sub a{
  display:block; color:#cfe2ff; text-decoration:none; padding:8px 12px; border-radius:10px;
}
.side-sub a:hover{ background:rgba(126,162,220,.10); }

/* Push page content to the right of the sidebar */
.with-sidebar main.wrap,
.with-sidebar .footer.wrap{ padding-left: calc(16px + 240px); }

/* Mobile: slide-in sidebar */
@media (max-width:980px){
  .sidebar{ transform:translateX(-100%); transition:transform .2s ease; }
  .menu-open .sidebar{ transform:translateX(0); }
  .with-sidebar main.wrap,
  .with-sidebar .footer.wrap{ padding-left:16px; }
}

/* ============================================================
   4) GENERIC BUTTONS / PILLS (used in content)
   ============================================================ */
.btn{
  display:inline-flex; align-items:center; gap:8px;
  height:40px; padding:0 16px; border-radius:22px;
  background:var(--pill-bg); color:#dce9ff; text-decoration:none;
  border:1px solid rgba(126,162,220,.25); box-shadow:var(--shadow);
  transition:.18s ease;
}
.btn:hover{ background:var(--pill-bg-hover); border-color:rgba(126,162,220,.45); }
.btn.primary{ background:linear-gradient(180deg, var(--brand), var(--brand-700)); color:#071a2f; border-color:rgba(0,0,0,.2); }
.btn.primary:hover{ background:linear-gradient(180deg, #78b6ff, var(--brand)); }

.pill{
  display:inline-flex; align-items:center; justify-content:center;
  height:38px; padding:0 14px; border-radius:22px;
  color:#dce9ff; text-decoration:none; background:var(--pill-bg);
  border:1px solid rgba(126,162,220,.25); box-shadow:var(--shadow);
  transition:.18s ease;
}
.pill:hover{ background:var(--pill-bg-hover); border-color:rgba(126,162,220,.45); }
.pill.sm{ height:30px; padding:0 10px; border-radius:18px; }

/* ============================================================
   5) PANELS / HERO / CONTENT WRAPPERS
   ============================================================ */
.panel{
  background:var(--panel);
  border:1px solid rgba(126,162,220,.10);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:22px;
}
.panel.subtle{ background:var(--panel); }

.hero{ display:grid; grid-template-columns:1.2fr 1fr; gap:24px; align-items:stretch; }
.hero h1{ font-size:40px; line-height:1.15; margin:.2em 0 .4em; }
.kicker{ color:var(--muted); }
.actions{ display:flex; gap:12px; margin-top:8px; }

/* ============================================================
   6) FEATURED — stacked (JS renders 2 items)
   ============================================================ */
.featured .feat-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.featured .feat-stage{ display:grid; grid-template-columns:1fr; gap:16px; }
.featured .feat-card{
  display:grid; grid-template-columns:160px 1fr; gap:16px; align-items:center;
  background:var(--panel-strong);
  padding:16px; border-radius:14px;
  border:1px solid rgba(126,162,220,.10);
  box-shadow:var(--shadow);
}
.featured .feat-card img{
  width:160px; height:200px; object-fit:cover;
  border-radius:12px; box-shadow:var(--shadow);
}
.meta .t{ font-weight:700; }
.meta .by{ font-size:14px; color:var(--muted); }
.tags{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }
.tag{
  font-size:13px; padding:6px 10px; border-radius:999px;
  background:rgba(126,162,220,.18); border:1px solid rgba(126,162,220,.28);
  color:#cfe2ff;
}

/* ============================================================
   7) HORIZONTAL SCROLL ROWS (Continue watching/reading)
   ============================================================ */
.row-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.hscroll{ display:flex; gap:16px; overflow-x:auto; scroll-snap-type:x mandatory; padding-bottom:6px; }
.card{
  min-width:260px; max-width:260px; scroll-snap-align:start;
  background:var(--panel-strong);
  border:1px solid rgba(126,162,220,.10);
  border-radius:14px; box-shadow:var(--shadow); padding:12px;
}
.card img{ width:100%; height:180px; object-fit:cover; border-radius:10px; margin-bottom:8px; }
.card h4{ margin:0 0 2px 0; }
.byline{ font-size:14px; color:var(--muted); }

.card .actions-row{ display:flex; gap:8px; margin-top:8px; align-items:center; }
.save-btn{ cursor:pointer; }
.remove-btn{ cursor:pointer; }
.grid{ display:grid; grid-template-columns:repeat(auto-fill, minmax(240px, 1fr)); gap:16px; }

/* ============================================================
   8) FOOTER
   ============================================================ */
.footer{ padding:28px 0; color:var(--muted); text-align:center; }

/* ============================================================
   9) RESPONSIVE
   ============================================================ */
@media (max-width:980px){
  .hero{ grid-template-columns:1fr; }
  .featured .feat-card{ grid-template-columns:130px 1fr; }
  .featured .feat-card img{ width:130px; height:170px; }
}
